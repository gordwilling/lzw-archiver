<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Button Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="button_large_logo.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_button.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="class_button-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Button Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_button_8h_source.html">Button.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa2cd27a68af14c5ff8fe83a91e865b71"><td class="memItemLeft" align="right" valign="top">unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#aa2cd27a68af14c5ff8fe83a91e865b71">compress</a> (std::istream &amp;source, <a class="el" href="class_button_output_stream.html">ButtonOutputStream</a> &amp;target)</td></tr>
<tr class="separator:aa2cd27a68af14c5ff8fe83a91e865b71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0206ddf1c9144f8e8af11b39f1ea1729"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#a0206ddf1c9144f8e8af11b39f1ea1729">decompress</a> (<a class="el" href="class_un_button_input_stream.html">UnButtonInputStream</a> &amp;source, std::ostream &amp;target)</td></tr>
<tr class="separator:a0206ddf1c9144f8e8af11b39f1ea1729"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a863296028d45890236003fbcc42d2a9e"><td class="memItemLeft" align="right" valign="top">static const short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#a863296028d45890236003fbcc42d2a9e">INITIAL_CODE_LENGTH</a> = 9</td></tr>
<tr class="separator:a863296028d45890236003fbcc42d2a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90457f383fd5833c18429ac3bd7ee2e0"><td class="memItemLeft" align="right" valign="top">static const short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#a90457f383fd5833c18429ac3bd7ee2e0">MAX_CODE_LENGTH</a> = 30</td></tr>
<tr class="separator:a90457f383fd5833c18429ac3bd7ee2e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33402b3cdc5ea0cd42aa7efea0801271"><td class="memItemLeft" align="right" valign="top">static const unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#a33402b3cdc5ea0cd42aa7efea0801271">MAX_CODE</a> = (1 &lt;&lt; <a class="el" href="class_button.html#a90457f383fd5833c18429ac3bd7ee2e0">MAX_CODE_LENGTH</a>) - 1</td></tr>
<tr class="separator:a33402b3cdc5ea0cd42aa7efea0801271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9478296d8ca74f07ae2cc4819c04a861"><td class="memItemLeft" align="right" valign="top">static const short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#a9478296d8ca74f07ae2cc4819c04a861">END_OF_FILE</a> = 0x100</td></tr>
<tr class="separator:a9478296d8ca74f07ae2cc4819c04a861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada7bcd664966a3a71913d81062fa9721"><td class="memItemLeft" align="right" valign="top">static const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#ada7bcd664966a3a71913d81062fa9721">INITIAL_MAP_SIZE</a> = 256</td></tr>
<tr class="separator:ada7bcd664966a3a71913d81062fa9721"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:abf3f404c080864310f37ec0539b2d147"><td class="memItemLeft" align="right" valign="top">typedef std::unordered_map<br class="typebreak"/>
&lt; std::string, unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#abf3f404c080864310f37ec0539b2d147">code_map_t</a></td></tr>
<tr class="separator:abf3f404c080864310f37ec0539b2d147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afab268ede32ddb707fdaf7fe30ebe9db"><td class="memItemLeft" align="right" valign="top">typedef std::unordered_map<br class="typebreak"/>
&lt; std::string, unsigned int &gt;<br class="typebreak"/>
::value_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#afab268ede32ddb707fdaf7fe30ebe9db">code_map_value_t</a></td></tr>
<tr class="separator:afab268ede32ddb707fdaf7fe30ebe9db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65b072d7234ef907c9571787e444ca70"><td class="memItemLeft" align="right" valign="top">typedef std::unordered_map<br class="typebreak"/>
&lt; unsigned int, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#a65b072d7234ef907c9571787e444ca70">pattern_map_t</a></td></tr>
<tr class="separator:a65b072d7234ef907c9571787e444ca70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ce01f04d9d4adb631206bbbfcf9ef7a"><td class="memItemLeft" align="right" valign="top">typedef std::unordered_map<br class="typebreak"/>
&lt; unsigned int, std::string &gt;<br class="typebreak"/>
::value_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#a0ce01f04d9d4adb631206bbbfcf9ef7a">pattern_map_value_t</a></td></tr>
<tr class="separator:a0ce01f04d9d4adb631206bbbfcf9ef7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a8e020d63be410cad9a44eba1926b5163"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#a8e020d63be410cad9a44eba1926b5163">initCodeMap</a> (<a class="el" href="class_button.html#abf3f404c080864310f37ec0539b2d147">code_map_t</a> &amp;codeMap)</td></tr>
<tr class="separator:a8e020d63be410cad9a44eba1926b5163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34ec6ff4219a89eed6c24e4c87573637"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#a34ec6ff4219a89eed6c24e4c87573637">initPatternMap</a> (<a class="el" href="class_button.html#a65b072d7234ef907c9571787e444ca70">pattern_map_t</a> &amp;patternMap)</td></tr>
<tr class="separator:a34ec6ff4219a89eed6c24e4c87573637"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class provides stream compression and decompression using an LZW implementation. </p>

<p>Definition at line <a class="el" href="_button_8h_source.html#l00013">13</a> of file <a class="el" href="_button_8h_source.html">Button.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="abf3f404c080864310f37ec0539b2d147"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::unordered_map&lt;std::string, unsigned int&gt; <a class="el" href="class_button.html#abf3f404c080864310f37ec0539b2d147">Button::code_map_t</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>type name for the code map, which maps sequence patterns (symbols) to code values. (used during compression) </p>

<p>Definition at line <a class="el" href="_button_8h_source.html#l00067">67</a> of file <a class="el" href="_button_8h_source.html">Button.h</a>.</p>

</div>
</div>
<a class="anchor" id="afab268ede32ddb707fdaf7fe30ebe9db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::unordered_map&lt;std::string, unsigned int&gt;::value_type <a class="el" href="class_button.html#afab268ede32ddb707fdaf7fe30ebe9db">Button::code_map_value_t</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>type name for a code map entry </p>

<p>Definition at line <a class="el" href="_button_8h_source.html#l00072">72</a> of file <a class="el" href="_button_8h_source.html">Button.h</a>.</p>

</div>
</div>
<a class="anchor" id="a65b072d7234ef907c9571787e444ca70"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::unordered_map&lt;unsigned int, std::string&gt; <a class="el" href="class_button.html#a65b072d7234ef907c9571787e444ca70">Button::pattern_map_t</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>type name for the pattern map, which maps code values to sequency patterns (symbols). (used during decompression) </p>

<p>Definition at line <a class="el" href="_button_8h_source.html#l00078">78</a> of file <a class="el" href="_button_8h_source.html">Button.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0ce01f04d9d4adb631206bbbfcf9ef7a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::unordered_map&lt;unsigned int, std::string&gt;::value_type <a class="el" href="class_button.html#a0ce01f04d9d4adb631206bbbfcf9ef7a">Button::pattern_map_value_t</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>type name for a pattern map entry </p>

<p>Definition at line <a class="el" href="_button_8h_source.html#l00083">83</a> of file <a class="el" href="_button_8h_source.html">Button.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa2cd27a68af14c5ff8fe83a91e865b71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long long Button::compress </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_button_output_stream.html">ButtonOutputStream</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compresses the content of an input stream and writes the compressed content to a target output stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>the input stream of data to compress </td></tr>
    <tr><td class="paramname">target</td><td>the output stream to which the compressed data is to be written </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes written to the target stream </dd></dl>

<p>Definition at line <a class="el" href="_button_8cpp_source.html#l00005">5</a> of file <a class="el" href="_button_8cpp_source.html">Button.cpp</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> bytesWritten = 0;    </div>
<div class="line"></div>
<div class="line">    <span class="comment">// this map will track the unique character sequences encountered during </span></div>
<div class="line">    <span class="comment">// traversal of the input stream, binding each to a unique integer code</span></div>
<div class="line">    <a class="code" href="class_button.html#abf3f404c080864310f37ec0539b2d147">code_map_t</a> codeMap;</div>
<div class="line">    <a class="code" href="class_button.html#a8e020d63be410cad9a44eba1926b5163">initCodeMap</a>( codeMap );</div>
<div class="line"></div>
<div class="line">    <span class="comment">// as we&#39;re starting with a new code map, </span></div>
<div class="line">    <span class="comment">// reset the target stream&#39;s code length</span></div>
<div class="line">    target.<a class="code" href="class_button_stream_base.html#af049f5cf12ba85638ff436d634c640d1">resetCodeLength</a>();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// maintains the code for the next unique character sequence </span></div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nextCode = codeMap.size() + 1; </div>
<div class="line">    std::string s;</div>
<div class="line">    <span class="keywordtype">char</span> c;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">while</span> ( source.get( c ) )</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// build up a character sequence until we find one that isn&#39;t in</span></div>
<div class="line">        <span class="comment">// the sequence map</span></div>
<div class="line">        s = s + c;</div>
<div class="line">        <span class="keywordflow">if</span> ( codeMap.count( s ) == 0 )</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// the current character sequence is not in the map.</span></div>
<div class="line">            <span class="comment">// add it to the map, bound to the next sequence number</span></div>
<div class="line">            <span class="keywordflow">if</span> ( nextCode &lt;= <a class="code" href="class_button.html#a33402b3cdc5ea0cd42aa7efea0801271">MAX_CODE</a> )</div>
<div class="line">            {</div>
<div class="line">                codeMap.insert( <a class="code" href="class_button.html#afab268ede32ddb707fdaf7fe30ebe9db">code_map_value_t</a>( s, nextCode++ ) );</div>
<div class="line">            }</div>
<div class="line">            </div>
<div class="line">            <span class="comment">// now write the code corresponding to the prior sequence to the</span></div>
<div class="line">            <span class="comment">// output stream. the prior sequence is the same as the current</span></div>
<div class="line">            <span class="comment">// sequence, minus the last character.</span></div>
<div class="line">            bytesWritten += target.<a class="code" href="class_button_output_stream.html#a4970554dd52e04ebd8d4a46091f9543a">put</a>( codeMap[s.substr( 0, s.size() - 1 )] );</div>
<div class="line">            </div>
<div class="line">            <span class="comment">// the most recent sequence ended with the most recently read character.</span></div>
<div class="line">            <span class="comment">// start a brand new sequence, this time starting with the most recently read</span></div>
<div class="line">            <span class="comment">// character</span></div>
<div class="line">            s = c;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ( !s.empty() )</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// all the sequences and codes have been placed in the map, but the most recently </span></div>
<div class="line">        <span class="comment">// generated code has not yet been written to the output stream. do that here,</span></div>
<div class="line">        <span class="comment">// and also write the end of file indicator</span></div>
<div class="line">        bytesWritten += target.<a class="code" href="class_button_output_stream.html#a4970554dd52e04ebd8d4a46091f9543a">put</a>( codeMap[s] );</div>
<div class="line">        bytesWritten += target.<a class="code" href="class_button_output_stream.html#a4970554dd52e04ebd8d4a46091f9543a">put</a>( <a class="code" href="class_button.html#a9478296d8ca74f07ae2cc4819c04a861">END_OF_FILE</a> );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> bytesWritten;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0206ddf1c9144f8e8af11b39f1ea1729"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Button::decompress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_un_button_input_stream.html">UnButtonInputStream</a> &amp;&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decompresses content from a compressed input stream and writes it to the specified target output stream. The given input stream must contain data that was previously compressed using <a class="el" href="class_button.html#aa2cd27a68af14c5ff8fe83a91e865b71">compress</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>the input stream of data to decompress </td></tr>
    <tr><td class="paramname">target</td><td>the output stream to which the decompressed data is to be written </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_button.html#aa2cd27a68af14c5ff8fe83a91e865b71">compress</a> </dd></dl>

<p>Definition at line <a class="el" href="_button_8cpp_source.html#l00061">61</a> of file <a class="el" href="_button_8cpp_source.html">Button.cpp</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="comment">// this map will track the codes encountered during traversal of the input </span></div>
<div class="line">    <span class="comment">// stream and enable reconstruction and subsequent tracking of the patterns </span></div>
<div class="line">    <span class="comment">// they represent</span></div>
<div class="line">    <a class="code" href="class_button.html#a65b072d7234ef907c9571787e444ca70">pattern_map_t</a> patternMap;</div>
<div class="line">    <a class="code" href="class_button.html#a34ec6ff4219a89eed6c24e4c87573637">initPatternMap</a>( patternMap );</div>
<div class="line"></div>
<div class="line">    <span class="comment">// reset the code length used by the source stream so it&#39;s</span></div>
<div class="line">    <span class="comment">// in sync with the pattern map</span></div>
<div class="line">    source.<a class="code" href="class_button_stream_base.html#af049f5cf12ba85638ff436d634c640d1">resetCodeLength</a>();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// maintains the code for the next unique character sequence </span></div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nextCode = patternMap.size() + 1;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> code;</div>
<div class="line">    std::string previousPattern;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">while</span> ( source.<a class="code" href="class_un_button_input_stream.html#a9f673e09f256f608e1b65684e1b13d48">get</a>( code ) != <a class="code" href="class_button.html#a9478296d8ca74f07ae2cc4819c04a861">END_OF_FILE</a> )</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( patternMap.count( code ) == 0 )</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// although infrequent, sometimes we encounter a code in the input stream that</span></div>
<div class="line">            <span class="comment">// has not already been inserted into the pattern map. This occurs when the code </span></div>
<div class="line">            <span class="comment">// encountered comes immediately after the last code in the pattern map created in</span></div>
<div class="line">            <span class="comment">// the encoding stage.  From the encoding algorithm, we know that this pattern is the </span></div>
<div class="line">            <span class="comment">// same as the previous pattern, plus its first character</span></div>
<div class="line">            patternMap.insert( <a class="code" href="class_button.html#a0ce01f04d9d4adb631206bbbfcf9ef7a">pattern_map_value_t</a>( code, previousPattern + previousPattern[0] ) );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( !previousPattern.empty() &amp;&amp; nextCode &lt;= <a class="code" href="class_button.html#a33402b3cdc5ea0cd42aa7efea0801271">MAX_CODE</a> )</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// this is the usual case. the next pattern consists of the previous </span></div>
<div class="line">            <span class="comment">// pattern, plus the first character of the current pattern</span></div>
<div class="line">            patternMap.insert( <a class="code" href="class_button.html#a0ce01f04d9d4adb631206bbbfcf9ef7a">pattern_map_value_t</a>( nextCode++, previousPattern + patternMap[code][0] ) ); </div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        previousPattern = patternMap[code];     </div>
<div class="line">        target &lt;&lt; previousPattern;</div>
<div class="line">    }    </div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8e020d63be410cad9a44eba1926b5163"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Button::initCodeMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_button.html#abf3f404c080864310f37ec0539b2d147">code_map_t</a> &amp;&#160;</td>
          <td class="paramname"><em>codeMap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Populates a new code map with the first 256 character patterns mapped to their corresponding codes </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">codeMap</td><td>an empty code map to populate </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_button_8cpp_source.html#l00102">102</a> of file <a class="el" href="_button_8cpp_source.html">Button.cpp</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="comment">// the first 256 &quot;patterns&quot; are actually single characters, and their corresponding codes are </span></div>
<div class="line">    <span class="comment">// the same as their ASCII codes. during both compression and decompression, the first character </span></div>
<div class="line">    <span class="comment">// read from the input stream is guaranteed to match one of these.</span></div>
<div class="line">    <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> code = 0; code &lt; <a class="code" href="class_button.html#ada7bcd664966a3a71913d81062fa9721">INITIAL_MAP_SIZE</a>; code++ )</div>
<div class="line">    {</div>
<div class="line">        codeMap.insert( <a class="code" href="class_button.html#afab268ede32ddb707fdaf7fe30ebe9db">code_map_value_t</a>( std::string( 1, static_cast&lt;char&gt;(code) ), code ) );  </div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a34ec6ff4219a89eed6c24e4c87573637"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Button::initPatternMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_button.html#a65b072d7234ef907c9571787e444ca70">pattern_map_t</a> &amp;&#160;</td>
          <td class="paramname"><em>patternMap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Populates a new pattern map with the first 256 codes mapped to their corresponding patterns. The resultant map is similar to the code map used for compression, but the keys and values are switched. that is, the compression map put patterns to codes, whereas this one puts codes to patterns </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">patternMap</td><td>an empty pattern map to populate </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_button_8cpp_source.html#l00113">113</a> of file <a class="el" href="_button_8cpp_source.html">Button.cpp</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="comment">// maps the first 256 codes to their patterns</span></div>
<div class="line">    <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> code = 0; code &lt; <a class="code" href="class_button.html#ada7bcd664966a3a71913d81062fa9721">INITIAL_MAP_SIZE</a>; code++ )</div>
<div class="line">    {</div>
<div class="line">        patternMap.insert( <a class="code" href="class_button.html#a0ce01f04d9d4adb631206bbbfcf9ef7a">pattern_map_value_t</a>( code, std::string( 1, static_cast&lt;char&gt;(code) ) ) );    </div>
<div class="line">    }</div>
<div class="line">}</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a9478296d8ca74f07ae2cc4819c04a861"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const short Button::END_OF_FILE = 0x100</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>this end of file indicator will be the last codeword written. </p>

<p>Definition at line <a class="el" href="_button_8h_source.html#l00034">34</a> of file <a class="el" href="_button_8h_source.html">Button.h</a>.</p>

</div>
</div>
<a class="anchor" id="a863296028d45890236003fbcc42d2a9e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const short Button::INITIAL_CODE_LENGTH = 9</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>initial codeword length in bits </p>

<p>Definition at line <a class="el" href="_button_8h_source.html#l00019">19</a> of file <a class="el" href="_button_8h_source.html">Button.h</a>.</p>

</div>
</div>
<a class="anchor" id="ada7bcd664966a3a71913d81062fa9721"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int Button::INITIAL_MAP_SIZE = 256</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The initial code map contains single character ASCII codes from 0 to 255 </p>

<p>Definition at line <a class="el" href="_button_8h_source.html#l00039">39</a> of file <a class="el" href="_button_8h_source.html">Button.h</a>.</p>

</div>
</div>
<a class="anchor" id="a33402b3cdc5ea0cd42aa7efea0801271"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned long Button::MAX_CODE = (1 &lt;&lt; <a class="el" href="class_button.html#a90457f383fd5833c18429ac3bd7ee2e0">MAX_CODE_LENGTH</a>) - 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Maximum value of a code word that can be achieved given the <a class="el" href="class_button.html#a90457f383fd5833c18429ac3bd7ee2e0">MAX_CODE_LENGTH</a> </p>

<p>Definition at line <a class="el" href="_button_8h_source.html#l00029">29</a> of file <a class="el" href="_button_8h_source.html">Button.h</a>.</p>

</div>
</div>
<a class="anchor" id="a90457f383fd5833c18429ac3bd7ee2e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const short Button::MAX_CODE_LENGTH = 30</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>maximum length of a codeword in bits </p>

<p>Definition at line <a class="el" href="_button_8h_source.html#l00024">24</a> of file <a class="el" href="_button_8h_source.html">Button.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_button_8h_source.html">Button.h</a></li>
<li><a class="el" href="_button_8cpp_source.html">Button.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_button.html">Button</a></li>
    <li class="footer">Generated on Sun Dec 2 2012 00:27:15 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 </li>
  </ul>
</div>
</body>
</html>
